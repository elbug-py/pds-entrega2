
<div class="card">
    <div class="card-header">
      Q<%=i+1%> 
    </div>
    <div class="card-body">
      <h5 class="card-title"><%=pregunta.enunciado %></h5>
      <div id="respuesta" data-respuesta="<%=pregunta.respuesta%>" data-i="<%=i%>"></div>


      <div class="list-group">
        <label class="list-group-item">
          <input class="form-check-input me-1" type="radio" name="checkboxGroup" value="a">
          <%= pregunta.alternativa1%>
        </label>
        <label class="list-group-item">
          <input class="form-check-input me-1" type="radio" name="checkboxGroup" value="b">
          <%= pregunta.alternativa2%>

        </label>
        <label class="list-group-item">
          <input class="form-check-input me-1" type="radio" name="checkboxGroup" value="c">
          <%= pregunta.alternativa3%>

        </label>
        <label class="list-group-item">
          <input class="form-check-input me-1" type="radio" name="checkboxGroup" value="d">
          <%= pregunta.alternativa4%>

        </label>

      </div>
      <br>
      <!-- <%= button_to "Responder", '#',class:'btn btn-primary' %> -->
      <%= button_to "Responder", '#', class: 'btn btn-primary', id: 'responder-button' %>

    
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const responderButton = document.getElementById('responder-button');
      
      responderButton.addEventListener("click", function(event) {
        event.preventDefault(); // Prevent the default form submission
        
        const selectedValue = document.querySelector('input[name="checkboxGroup"]:checked').value;
        const answer  = document.getElementById("respuesta").getAttribute("data-respuesta")
        const i  = document.getElementById("respuesta").getAttribute("data-i")

        // console.log(answer)
        const response = {
                'number_question':'',
                'answer':'',
                'correct':''
            }


        
        if (selectedValue) {
          // You can now use the selectedValue as needed (e.g., submit it via AJAX, display it to the user, etc.)
          response.number_question = i;
          response.answer = selectedValue;
          response.correct = selectedValue === answer;

          if(selectedValue === answer){
            
            console.log(response)
            answered.push(response);
          }
          
        } else {
          alert("Please select an option before responding.");
        }
        console.log(response);
      });
    });
  </script>
  